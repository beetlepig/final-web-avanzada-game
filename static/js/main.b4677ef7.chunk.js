(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,i){e.exports=i(38)},24:function(e,t,i){},26:function(e,t,i){},28:function(e,t,i){},30:function(e,t,i){},38:function(e,t,i){"use strict";i.r(t);var n,s,a,o,r=i(0),c=i.n(r),h=i(9),l=i.n(h),u=(i(24),i(1)),p=i(2),d=i(7),v=i(5),f=i(6),m=(i(26),i(8)),y=(i(28),i(30),i(16)),b=i(17),k=i.n(b),I=function(e){function t(e){var i;Object(u.a)(this,t),(i=Object(d.a)(this,Object(v.a)(t).call(this,e))).state={resizing:!0,isPortrait:window.innerHeight>window.innerWidth};var n=new k.a(window.navigator.userAgent).mobile()?function(){var e=window.innerHeight>window.innerWidth;e===i.state.isPortrait&&i.state.resizing||i.setState({resizing:!0,isPortrait:e})}:function(){i.state.resizing||i.setState({resizing:!0})},s=void 0!==e.delay?e.delay:200;return i.setResize=Object(y.debounce)(n,s),i}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setResize),this.setState({resizing:!1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setResize),this.setResize.cancel()}},{key:"componentWillReceiveProps",value:function(e){this.props.watchedVal!==e.watchedVal&&this.setState({resizing:!0})}},{key:"componentDidUpdate",value:function(e,t){!t.resizing&&this.state.resizing&&this.setState({resizing:!1})}},{key:"render",value:function(){return this.state.resizing?null:this.props.children}}]),t}(r.Component),w=i(4),O=i.n(w),g=function(e){function t(e){var i;return Object(u.a)(this,t),(i=Object(d.a)(this,Object(v.a)(t).call(this,e))).mountedView=i.mountedView.bind(Object(m.a)(Object(m.a)(i))),i.state={},i}return Object(f.a)(t,e),Object(p.a)(t,[{key:"mountedView",value:function(e){if(e){var t=1*e.clientWidth|0,i=1*e.clientHeight|0,n={view:e,width:t,height:i,ratio:1},s=this.props,a=s.sketch,o=s.sketchProps,r=s.noCanvas;if(a){n.sketch=new O.a(function(e){a(t,i,o)(e);var n=e.setup?e.setup:function(){};e.setup=r?function(){e.noCanvas(),n()}:function(){e.createCanvas(t,i),n()};var s=e.unmount;e.unmount=function(){s&&s(),e.remove()}},e)}this.setState(n)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.sketch;t.receiveProps&&e.sketchProps&&t.receiveProps(e.sketchProps)}},{key:"componentWillUnmount",value:function(){this.state.sketch&&this.state.sketch.unmount()}},{key:"render",value:function(){var e=this.props,t=Object.assign({},e.style),i=e.width,n=e.height;switch(typeof i){case"number":i|=0,t.width=i,t.minWidth=i,t.maxWidth=i;break;case"string":t.width=i;break;case"undefined":t.width=t.width?t.width:"100%"}switch(typeof n){case"number":n|=0,t.height=n,t.minHeight=n,t.maxHeight=n;break;case"string":t.height=n;break;case"undefined":t.height=t.height?t.height:"100%"}return t.margin="0",c.a.createElement("div",{ref:this.mountedView,style:t,className:e.className})}}]),t}(r.PureComponent),j=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props;return c.a.createElement(I,{watchedVal:e.watchedVal},c.a.createElement(g,{sketch:e.sketch,sketchProps:e.sketchProps,noCanvas:e.noCanvas,width:e.width,height:e.height,style:e.style,className:e.className}))}}]),t}(r.PureComponent),x=i(10),E=i.n(x),W=i(13),P=i(14),V=i(11),z=(i(36),i(3)),C=new(n=function(){function e(){Object(u.a)(this,e),Object(P.a)(this,"fire",s,this),Object(P.a)(this,"redInvulnerability",a,this)}return Object(p.a)(e,[{key:"BulletFired",value:function(e){this.fire=e}},{key:"InvulnerabilityRed",value:function(e){this.redInvulnerability=e}}]),e}(),s=Object(V.a)(n.prototype,"fire",[z.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(V.a)(n.prototype,"redInvulnerability",[z.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(V.a)(n.prototype,"BulletFired",[z.d],Object.getOwnPropertyDescriptor(n.prototype,"BulletFired"),n.prototype),Object(V.a)(n.prototype,"InvulnerabilityRed",[z.d],Object.getOwnPropertyDescriptor(n.prototype,"InvulnerabilityRed"),n.prototype),n),S=function(e,t,i){return function(n){var s,a,o=i.fire,r=i.redInvulnerability;n.setup=function(){n.ellipseMode(n.CENTER),n.textAlign(n.CENTER),s=new B(n,e,t),a=new N(n,e,t)},n.draw=function(){n.background(33,33,33,Math.floor(n.map(n.sin(n.radians(n.frameCount)),-1,1,40,70))),s&&(s.moveSpaceship(),s.update(),s.display()),a&&(a.update(),a.display()),s&&s.shots.forEach(function(e){a&&w.Vector.dist(e.pos,a.pos)<.95*a.diameter/2&&s&&(s.shots.splice(s.shots.indexOf(e),1),a.live--,0===a.live&&a.destroyEnemy().then(function(){console.log("mulio"),a=null}))}),a&&a.explosionWaves.forEach(function(e){if(s){var t=.97*e.diameter/2,i=t+e.strokeSize/2,n=t-e.strokeSize/2,a=w.Vector.sub(s.pos,e.pos);a.normalize(),a.mult(i);var o=e.pos.copy();o.add(a);var r=w.Vector.sub(s.pos,e.pos);r.normalize(),r.mult(n);var c=e.pos.copy();c.add(r),w.Vector.dist(e.pos,s.pos)>w.Vector.dist(e.pos,c)&&w.Vector.dist(e.pos,s.pos)<w.Vector.dist(e.pos,o)&&(s.invulnerable||s.redInvulnerable||(s.damaged(),0===s.live&&(console.log("mulioPLayel"),s=null)))}})},n.receiveProps=function(e){o=e.fire,r=e.redInvulnerability,s&&(s.redInvulnerable=r,o&&(s.redInvulnerable||s.invulnerable||s.shot(),o=!1,C.BulletFired(o)))},n.keyPressed=function(){!s||s.redInvulnerable||s.invulnerable||38!==n.keyCode?s&&37===n.keyCode?s.redInvulnerable=!0:s&&"a"===n.key?s.leftKeyPressed=!0:s&&"d"===n.key&&(s.rightKeyPressed=!0):s.shot()},n.keyReleased=function(){s&&37===n.keyCode?s.redInvulnerable=!1:s&&"a"===n.key?s.leftKeyPressed=!1:s&&"d"===n.key&&(s.rightKeyPressed=!1)},n.unmount=function(){console.log("The sketch was unmounted. Width was "+e+", height was "+t),s&&s.unmount()}}},B=function(){function e(t,i,n,s){var a=this;Object(u.a)(this,e),this.motionEventHandler=function(e){var t=e.accelerationIncludingGravity;t&&(a.deviceAcceleration=t)},this.p5Instance=t,this.sketchWidth=i,this.sketchHeight=n,this.isPortrait=window.innerHeight>window.innerWidth,this.vel=this.p5Instance.createVector(0,0),this.acceleration=this.p5Instance.createVector(0,0),this.mass=6,this.friction=.01*this.mass,this.pos=s||this.p5Instance.createVector(.5*this.sketchWidth,.85*this.sketchHeight),this.diameter=this.mass*(.01*this.sketchWidth),this.live=5,this.invulnerable=!1,this.redInvulnerable=!1,this.leftKeyPressed=!1,this.rightKeyPressed=!1,window.addEventListener("devicemotion",this.motionEventHandler,!0),this.shots=[]}return Object(p.a)(e,[{key:"update",value:function(){var e=this;this.vel.add(this.acceleration),this.pos.add(this.vel),this.acceleration.mult(0),this.shots.forEach(function(t){t.update(),t.display(),t.pos.y<-100&&e.shots.splice(e.shots.indexOf(t),1)})}},{key:"display",value:function(){this.p5Instance.noStroke(),this.redInvulnerable?(this.p5Instance.stroke(255,50,50),this.p5Instance.strokeWeight(.1*this.diameter),this.p5Instance.fill(230,155)):this.invulnerable?(this.p5Instance.stroke(255),this.p5Instance.strokeWeight(.1*this.diameter),this.p5Instance.fill(230,50)):this.p5Instance.fill(230,255),this.p5Instance.ellipse(this.pos.x,this.pos.y,this.diameter,this.diameter)}},{key:"moveSpaceship",value:function(){var e,t=this.vel.copy();(t.mult(-1),t.normalize(),t.mult(this.friction),this.applyForce(t),this.deviceAcceleration&&this.deviceAcceleration.y&&this.deviceAcceleration.x)&&((e=this.isPortrait?this.p5Instance.map(this.deviceAcceleration.x,-3,3,1,-1):this.p5Instance.map(this.deviceAcceleration.y,-3,3,-1,1))>0&&this.pos.x<.9*this.sketchWidth?this.applyForce(this.p5Instance.createVector(e,0,0)):e<0&&this.pos.x>.1*this.sketchWidth&&this.applyForce(this.p5Instance.createVector(e,0,0)));this.leftKeyPressed&&this.pos.x>.1*this.sketchWidth&&this.applyForce(this.p5Instance.createVector(-3,0,0)),this.rightKeyPressed&&this.pos.x<.9*this.sketchWidth&&this.applyForce(this.p5Instance.createVector(3,0,0)),this.checkEdges(),this.vel.limit(10)}},{key:"checkEdges",value:function(){this.pos.x>.9*this.sketchWidth?this.vel.x>0?this.friction=2:(this.friction=.5,this.applyForce(this.p5Instance.createVector(-4))):this.pos.x<.1*this.sketchWidth?this.vel.x<0?this.friction=2:(this.friction=.5,this.applyForce(this.p5Instance.createVector(4))):this.friction=.5}},{key:"applyForce",value:function(e){var t=w.Vector.div(e,this.mass);this.acceleration.add(t)}},{key:"shot",value:function(){this.shots.push(new F(this.pos.copy(),this.p5Instance))}},{key:"damaged",value:function(){var e=this;this.live--,this.invulnerable=!0,this.invulnerabilityDelay().then(function(){e.invulnerable=!1})}},{key:"invulnerabilityDelay",value:function(){return new Promise(function(e){setTimeout(function(){e()},1e3)})}},{key:"unmount",value:function(){window.removeEventListener("devicemotion",this.motionEventHandler,!0)}}]),e}(),F=function(){function e(t,i){Object(u.a)(this,e),this.pInstance=i,this.pos=t,this.vel=this.pInstance.createVector(0,0),this.acceleration=this.pInstance.createVector(0,0),this.mass=1,this.applyForce(this.pInstance.createVector(0,-10))}return Object(p.a)(e,[{key:"update",value:function(){this.vel.add(this.acceleration),this.pos.add(this.vel),this.acceleration.mult(0)}},{key:"display",value:function(){this.pInstance.fill(200),this.pInstance.noStroke(),this.pInstance.ellipse(this.pos.x,this.pos.y,10,10)}},{key:"applyForce",value:function(e){var t=w.Vector.div(e,this.mass);this.acceleration.add(t)}}]),e}(),N=function(){function e(t,i,n,s){Object(u.a)(this,e),this.p5Instance=t,this.sketchWidth=i,this.sketchHeight=n,this.vel=this.p5Instance.createVector(0,0),this.acceleration=this.p5Instance.createVector(0,0),this.mass=10,this.friction=.01*this.mass,this.pos=s||this.p5Instance.createVector(0,0),this.diameter=this.mass*(.01*this.sketchWidth),this.live=50,this.fillOpacity=230,this.explosionWaves=[],this.alive=!0,this.moving=!0,this.objective=this.p5Instance.createVector(this.p5Instance.random(0,this.sketchWidth),this.p5Instance.random(0,this.sketchHeight)),this.shotWave()}return Object(p.a)(e,[{key:"shotWave",value:function(){var e=Object(W.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.alive){e.next=9;break}if(!this.alive){e.next=4;break}return e.next=4,this.move();case 4:if(!this.alive){e.next=7;break}return e.next=7,this.releaseExplosion();case 7:e.next=0;break;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"move",value:function(){var e=this;return this.objective.set(this.p5Instance.random(.1*this.sketchWidth,.8*this.sketchWidth),this.p5Instance.random(.1*this.sketchHeight,.6*this.sketchHeight)),this.moving=!0,new Promise(function(t){e.resolveMovePromise=t})}},{key:"applyForce",value:function(e){var t=w.Vector.div(e,this.mass);this.acceleration.add(t)}},{key:"update",value:function(){var e=this;if(this.moving)if(w.Vector.dist(this.objective,this.pos)<.6*this.diameter)this.friction=.8*this.vel.mag(),this.vel.mag()<.8&&(this.vel.mult(0),this.acceleration.mult(0),this.friction=.01*this.mass,this.moving=!1,this.resolveMovePromise&&this.resolveMovePromise());else{var t=w.Vector.sub(this.objective,this.pos);t.normalize(),t.mult(2),this.applyForce(t)}this.alive||(this.fillOpacity--,this.fillOpacity<=0&&this.resolveDeath&&this.resolveDeath());var i=this.vel.copy();i.mult(-1),i.normalize(),i.mult(this.friction),this.applyForce(i),this.vel.add(this.acceleration),this.pos.add(this.vel),this.acceleration.mult(0),this.explosionWaves.forEach(function(t){t.display(),t.diameter>1e4&&e.explosionWaves.splice(e.explosionWaves.indexOf(t),1)}),this.vel.limit(20)}},{key:"display",value:function(){this.p5Instance.stroke(244,67,54,this.fillOpacity),this.p5Instance.strokeWeight(this.p5Instance.map(this.p5Instance.cos(this.p5Instance.radians(3*this.p5Instance.frameCount)),-1,1,.03*this.diameter,.09*this.diameter)),this.p5Instance.fill(230,100,100,.7*this.fillOpacity),this.p5Instance.ellipse(this.pos.x,this.pos.y,this.diameter,this.diameter)}},{key:"releaseExplosion",value:function(){var e=Object(W.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.p5Instance.random(2,6))){e.next=14;break}if(!this.alive){e.next=11;break}if(this.explosionWaves.push(new R(this.pos.copy(),this.diameter,this.p5Instance.random(1,4.5),this.p5Instance)),!(t<5)){e.next=9;break}return e.next=7,this.delayBetweenExplosions(this.p5Instance.random(500,2e3));case 7:e.next=11;break;case 9:return e.next=11,this.delayBetweenExplosions(20);case 11:t++,e.next=1;break;case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delayBetweenExplosions",value:function(e){return new Promise(function(t){setTimeout(function(){t()},e)})}},{key:"destroyEnemy",value:function(){var e=this;return this.alive=!1,console.log("va a molil"),new Promise(function(t){e.resolveDeath=t})}}]),e}(),R=function(){function e(t,i,n,s){Object(u.a)(this,e),this.pInstance=s,this.pos=t,this.diameter=i,this.strokeMultiplier=n,this.strokeSize=.05*this.diameter*this.strokeMultiplier}return Object(p.a)(e,[{key:"display",value:function(){this.pInstance.stroke(244,67,54,100),this.strokeSize=.05*this.diameter*this.strokeMultiplier,this.pInstance.strokeWeight(this.strokeSize),this.pInstance.noFill(),this.pInstance.ellipse(this.pos.x,this.pos.y,this.diameter,this.diameter),this.update()}},{key:"update",value:function(){this.diameter+=.1*this.diameter/this.strokeMultiplier}}]),e}(),H=i(18),A=Object(H.a)(o=function(e){function t(e){var i;return Object(u.a)(this,t),(i=Object(d.a)(this,Object(v.a)(t).call(this,e))).state={},i}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"CanvasContainer"},c.a.createElement(j,{sketch:S,width:"99%",height:"99%",sketchProps:{fire:C.fire,redInvulnerability:C.redInvulnerability}}))}}]),t}(r.Component))||o,M=function(e){function t(e){var i;return Object(u.a)(this,t),(i=Object(d.a)(this,Object(v.a)(t).call(this,e))).onShot=i.onShot.bind(Object(m.a)(Object(m.a)(i))),i.onInvulnerabilityActive=i.onInvulnerabilityActive.bind(Object(m.a)(Object(m.a)(i))),i.onInvulnerabilityOff=i.onInvulnerabilityOff.bind(Object(m.a)(Object(m.a)(i))),i}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onShot",value:function(){C.BulletFired(!0)}},{key:"onInvulnerabilityActive",value:function(){C.InvulnerabilityRed(!0)}},{key:"onInvulnerabilityOff",value:function(){C.InvulnerabilityRed(!1)}},{key:"render",value:function(){return c.a.createElement("div",{className:"gameContainer"},c.a.createElement("div",{className:"invulnerabilityButtonContainer noResponsiveButton"},c.a.createElement("button",{className:"invulnerabilityButton",onTouchStart:this.onInvulnerabilityActive,onTouchEnd:this.onInvulnerabilityOff})),c.a.createElement(A,null),c.a.createElement("div",{className:"buttonsGeneralContainer responsiveButton"},c.a.createElement("div",{className:"invulnerabilityButtonContainer"},c.a.createElement("button",{className:"invulnerabilityButton",onTouchStart:this.onInvulnerabilityActive,onTouchEnd:this.onInvulnerabilityOff})),c.a.createElement("div",{className:"fireButtonContainer"},c.a.createElement("button",{className:"fireButton",onTouchStart:this.onShot}))),c.a.createElement("div",{className:"fireButtonContainer noResponsiveButton"},c.a.createElement("button",{className:"fireButton",onTouchStart:this.onShot})))}}]),t}(r.PureComponent),T=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(M,null)}}]),t}(r.Component),D=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(T,null)}}]),t}(r.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.b4677ef7.chunk.js.map